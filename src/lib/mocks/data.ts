import type {
  UserProfile,
  RoleProfile,
  Location,
  Specialty,
  ScaleType,
  Scale,
  AuditLog,
  Notification,
} from './types';

// Generate unique IDs
const generateId = () => crypto.randomUUID();

// Current timestamp
const now = new Date().toISOString();
const yesterday = new Date(Date.now() - 86400000).toISOString();
const lastWeek = new Date(Date.now() - 7 * 86400000).toISOString();

// Mock Users
export const mockUsers: UserProfile[] = [
  {
    id: '1',
    name: 'Carlos Silva',
    email: 'admin@medly.com',
    phone: '(11) 99999-0001',
    cpf: '123.456.789-01',
    role: 'admin',
    status: 'ativo',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Carlos',
    address: {
      cep: '01310-100',
      street: 'Av. Paulista',
      number: '1000',
      neighborhood: 'Bela Vista',
      city: 'São Paulo',
      state: 'SP',
    },
    averageRating: 4.8,
    completedScales: 150,
    cancellationRate: 0.02,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    name: 'Maria Santos',
    email: 'gestor@medly.com',
    phone: '(11) 99999-0002',
    cpf: '234.567.890-12',
    role: 'gestor',
    status: 'ativo',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Maria',
    subordinateIds: ['3', '4'],
    averageRating: 4.6,
    completedScales: 80,
    cancellationRate: 0.05,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '3',
    name: 'João Oliveira',
    email: 'escalista@medly.com',
    phone: '(11) 99999-0003',
    cpf: '345.678.901-23',
    role: 'escalista',
    status: 'ativo',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Joao',
    managerId: '2',
    averageRating: 4.5,
    completedScales: 45,
    cancellationRate: 0.03,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '4',
    name: 'Dra. Ana Costa',
    email: 'medico@medly.com',
    phone: '(11) 99999-0004',
    cpf: '456.789.012-34',
    role: 'medico',
    status: 'ativo',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Ana',
    crm: '123456',
    crmState: 'SP',
    crmValid: true,
    specialties: ['1', '2'],
    managerId: '2',
    averageRating: 4.9,
    completedScales: 120,
    cancellationRate: 0.01,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '5',
    name: 'Dr. Pedro Mendes',
    email: 'pedro.mendes@medly.com',
    phone: '(11) 99999-0005',
    cpf: '567.890.123-45',
    role: 'medico',
    status: 'ativo',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Pedro',
    crm: '654321',
    crmState: 'SP',
    crmValid: true,
    specialties: ['2', '3'],
    averageRating: 4.7,
    completedScales: 95,
    cancellationRate: 0.04,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
];

// Helper to create full permission
const fullPerm = (): { view: boolean; create: boolean; edit: boolean; delete: boolean; viewAll: boolean } => ({ view: true, create: true, edit: true, delete: true, viewAll: true });
const readOnlyPerm = (viewAll = false): { view: boolean; create: boolean; edit: boolean; delete: boolean; viewAll: boolean } => ({ view: true, create: false, edit: false, delete: false, viewAll });
const noPerm = (): { view: boolean; create: boolean; edit: boolean; delete: boolean; viewAll: boolean } => ({ view: false, create: false, edit: false, delete: false, viewAll: false });
const fullDash = (): { view: boolean; viewAll: boolean; cards: { totalUsers: boolean; activeScales: boolean; pendingPayments: boolean; occupancyRate: boolean }; charts: { usersByRole: boolean; scalesTrend: boolean; locationRatings: boolean } } => ({
  view: true, viewAll: true,
  cards: { totalUsers: true, activeScales: true, pendingPayments: true, occupancyRate: true },
  charts: { usersByRole: true, scalesTrend: true, locationRatings: true },
});

// Mock Role Profiles
export const mockRoleProfiles: RoleProfile[] = [
  {
    id: '1',
    name: 'Administrador',
    role: 'admin',
    description: 'Acesso total ao sistema',
    permissions: {
      dashboard: fullDash(),
      users: fullPerm(),
      scales: fullPerm(),
      locations: fullPerm(),
      payments: fullPerm(),
      documents: fullPerm(),
      reports: fullPerm(),
      settings: fullPerm(),
    },
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    name: 'Gestor',
    role: 'gestor',
    description: 'Gerencia equipes e escalas',
    permissions: {
      dashboard: { view: true, viewAll: true, cards: { totalUsers: true, activeScales: true, pendingPayments: true, occupancyRate: false }, charts: { usersByRole: true, scalesTrend: true, locationRatings: true } },
      users: { view: true, create: true, edit: true, delete: false, viewAll: false },
      scales: { view: true, create: true, edit: true, delete: true, viewAll: false },
      locations: readOnlyPerm(false),
      payments: { view: true, create: true, edit: true, delete: false, viewAll: false },
      documents: { view: true, create: false, edit: true, delete: false, viewAll: false },
      reports: { view: true, create: true, edit: false, delete: false, viewAll: false },
      settings: noPerm(),
    },
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '3',
    name: 'Escalista',
    role: 'escalista',
    description: 'Gerencia escalas e candidaturas',
    permissions: {
      dashboard: { view: true, viewAll: false, cards: { totalUsers: false, activeScales: true, pendingPayments: false, occupancyRate: true }, charts: { usersByRole: false, scalesTrend: true, locationRatings: true } },
      users: readOnlyPerm(false),
      scales: { view: true, create: true, edit: true, delete: false, viewAll: false },
      locations: readOnlyPerm(false),
      payments: readOnlyPerm(false),
      documents: readOnlyPerm(false),
      reports: readOnlyPerm(false),
      settings: noPerm(),
    },
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '4',
    name: 'Médico',
    role: 'medico',
    description: 'Visualiza e candidata-se a escalas',
    permissions: {
      dashboard: { view: true, viewAll: false, cards: { totalUsers: false, activeScales: true, pendingPayments: true, occupancyRate: false }, charts: { usersByRole: false, scalesTrend: false, locationRatings: false } },
      users: noPerm(),
      scales: readOnlyPerm(false),
      locations: readOnlyPerm(false),
      payments: readOnlyPerm(false),
      documents: { view: true, create: true, edit: true, delete: false, viewAll: false },
      reports: readOnlyPerm(false),
      settings: noPerm(),
    },
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
];

// Mock Locations
export const mockLocations: Location[] = [
  {
    id: '1',
    name: 'UPA Zona Norte',
    type: 'upa',
    address: {
      cep: '02110-000',
      street: 'Av. Cruzeiro do Sul',
      number: '2500',
      neighborhood: 'Santana',
      city: 'São Paulo',
      state: 'SP',
    },
    coordinates: { lat: -23.5005, lng: -46.6275 },
    phone: '(11) 3333-1111',
    email: 'upa.zonanorte@saude.sp.gov.br',
    averageRating: 4.2,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    name: 'Hospital Municipal Central',
    type: 'hospital',
    address: {
      cep: '01230-010',
      street: 'Rua da Consolação',
      number: '800',
      neighborhood: 'Consolação',
      city: 'São Paulo',
      state: 'SP',
    },
    coordinates: { lat: -23.5489, lng: -46.6558 },
    phone: '(11) 3333-2222',
    email: 'hmc@saude.sp.gov.br',
    averageRating: 4.5,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '3',
    name: 'UBS Vila Mariana',
    type: 'ubs',
    address: {
      cep: '04101-000',
      street: 'Rua Domingos de Morais',
      number: '1500',
      neighborhood: 'Vila Mariana',
      city: 'São Paulo',
      state: 'SP',
    },
    coordinates: { lat: -23.5883, lng: -46.6358 },
    phone: '(11) 3333-3333',
    email: 'ubs.vilamariana@saude.sp.gov.br',
    averageRating: 4.0,
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
];

// Mock Specialties
export const mockSpecialties: Specialty[] = [
  {
    id: '1',
    name: 'Clínica Geral',
    description: 'Atendimento médico generalista',
    scaleTypeIds: ['1', '2'],
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    name: 'Pediatria',
    description: 'Atendimento a crianças e adolescentes',
    scaleTypeIds: ['1', '2'],
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '3',
    name: 'Ortopedia',
    description: 'Tratamento do sistema musculoesquelético',
    scaleTypeIds: ['2', '3'],
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '4',
    name: 'Cardiologia',
    description: 'Tratamento de doenças cardíacas',
    scaleTypeIds: ['2', '3'],
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
];

// Mock Scale Types
export const mockScaleTypes: ScaleType[] = [
  {
    id: '1',
    name: 'Plantão 12h',
    description: 'Plantão de 12 horas',
    defaultDurationHours: 12,
    defaultShift: 'plantao_12h',
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    name: 'Plantão 24h',
    description: 'Plantão de 24 horas',
    defaultDurationHours: 24,
    defaultShift: 'plantao_24h',
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '3',
    name: 'Ambulatório Manhã',
    description: 'Atendimento ambulatorial período da manhã',
    defaultDurationHours: 6,
    defaultShift: 'manha',
    createdAt: lastWeek,
    updatedAt: now,
    deletedAt: null,
  },
];

// Generate future dates for scales
const tomorrow = new Date(Date.now() + 86400000).toISOString().split('T')[0];
const nextWeek = new Date(Date.now() + 7 * 86400000).toISOString().split('T')[0];
const in2Weeks = new Date(Date.now() + 14 * 86400000).toISOString().split('T')[0];

// Mock Scales
export const mockScales: Scale[] = [
  {
    id: '1',
    locationId: '1',
    scaleTypeId: '1',
    specialtyId: '1',
    title: 'Plantão UPA - Clínica Geral',
    description: 'Plantão noturno na UPA Zona Norte',
    date: tomorrow,
    startTime: '19:00',
    endTime: '07:00',
    shift: 'noite',
    status: 'publicada',
    cancellationDeadlineDays: 3,
    transferDeadlineDays: 2,
    paymentValue: 1500,
    paymentStatus: 'pendente',
    minPatients: 20,
    maxPatients: 50,
    mealBreakMinutes: 60,
    candidateIds: ['4', '5'],
    createdAt: yesterday,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    locationId: '2',
    scaleTypeId: '2',
    specialtyId: '2',
    title: 'Plantão Hospital - Pediatria',
    description: 'Plantão 24h no Hospital Municipal',
    date: nextWeek,
    startTime: '07:00',
    endTime: '07:00',
    shift: 'plantao_24h',
    status: 'publicada',
    cancellationDeadlineDays: 5,
    transferDeadlineDays: 3,
    paymentValue: 3000,
    paymentStatus: 'pendente',
    minPatients: 15,
    maxPatients: 40,
    mealBreakMinutes: 120,
    assignedDoctorId: '4',
    createdAt: yesterday,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '3',
    locationId: '3',
    scaleTypeId: '3',
    specialtyId: '3',
    title: 'Ambulatório - Ortopedia',
    description: 'Atendimento ambulatorial manhã',
    date: in2Weeks,
    startTime: '08:00',
    endTime: '14:00',
    shift: 'manha',
    status: 'rascunho',
    cancellationDeadlineDays: 2,
    transferDeadlineDays: 1,
    paymentValue: 800,
    paymentStatus: 'pendente',
    minPatients: 10,
    maxPatients: 20,
    createdAt: now,
    updatedAt: now,
    deletedAt: null,
  },
];

// Mock Audit Logs
export const mockAuditLogs: AuditLog[] = [
  {
    id: '1',
    timestamp: now,
    userId: '1',
    userName: 'Carlos Silva',
    action: 'CREATE',
    entity: 'Scale',
    entityId: '1',
    details: { title: 'Plantão UPA - Clínica Geral' },
  },
  {
    id: '2',
    timestamp: yesterday,
    userId: '4',
    userName: 'Dra. Ana Costa',
    action: 'APPLY',
    entity: 'Scale',
    entityId: '1',
    details: { status: 'interessado' },
  },
];

// Mock Notifications
export const mockNotifications: Notification[] = [
  {
    id: '1',
    userId: '4',
    title: 'Nova escala disponível',
    message: 'Uma nova escala de Clínica Geral foi publicada na UPA Zona Norte',
    type: 'info',
    read: false,
    actionUrl: '/escalas/1',
    createdAt: now,
    updatedAt: now,
    deletedAt: null,
  },
  {
    id: '2',
    userId: '4',
    title: 'Candidatura aceita',
    message: 'Sua candidatura para o plantão no Hospital Municipal foi aceita!',
    type: 'success',
    read: false,
    actionUrl: '/escalas/2',
    createdAt: yesterday,
    updatedAt: yesterday,
    deletedAt: null,
  },
];
